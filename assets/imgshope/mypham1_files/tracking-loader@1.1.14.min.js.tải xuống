!function(){"use strict";var n="tms_debug_view_token",t="tms_debug_view_options",e={dev:"/dist",prod:"https://deo.shopeemobile.com/shopee/shopee-trackingsdk-live-sg",staging:"https://tms.traffic.staging.shopee.io/sdk",test:"https://tms.traffic.test.shopee.io/sdk"},o=e.prod,r={requireJS:"".concat(o,"/require.js"),trackingSDKRequireJS:"".concat(o,"/require-trackingsdk.js")},a=!1;var i,c,s,u=r.trackingSDKRequireJS,f="4798900",p={core:["@shopee/tracking-core@".concat(f)],ubt:["@shopee/tracking-ubt@".concat(f)],algo:["@shopee/tracking-algo@".concat(f)],apms:["@shopee/tracking-apms@".concat(f)],mmp:["@shopee/tracking-mmp@".concat(f)],exposure:["@shopee/tracking-exposure@".concat(f)],debugview:["@shopee/tracking-internal-debugview@".concat(f),function(){try{if(new URL(self.window.location.href).searchParams.get(n))return!0;var e=self.window.localStorage.getItem(t);return Boolean(e)}catch(n){return!1}}]},g=function(n){return n.includes("-internal-")?"".concat(e.staging,"/amd/").concat(n,".min.js"):"".concat(o,"/amd/").concat(n,".min.js")},d=!1;i=u,c=function(){var n=window.trackingSDK.require;n.config({waitSeconds:30});var t=window.trackingSDK,e=function(e){var o=Array.isArray(e)?[e[0],"function"==typeof e[1]?e[1](e[0]):e[1]]:[e,"function"==typeof t.param?t.param(e):t.param],r=o[0],a=o[1],i=void 0===a?{}:a,c=p[r];if(c){var s=c[0],u=c[1];(void 0===u?function(){return!0}:u)()&&n([g(s)],(function(n){var e=new("default"in n?n.default:n)(i);e.init({version:t.version,new_domain_enable:d}).then((function(){t[r]=function(n){for(var t,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return(t=e)[n].apply(t,o)},(t.store[r]||[]).forEach((function(n){var e;(e=t)[r].apply(e,n)})),delete t.store[r]}))}))}else console.error("[@shopee/tracking-loader error] ".concat(r," does not exist"))};t.load=function(n){null==n||n.forEach((function(n){var o="ubt",r=t.param;"string"==typeof n&&(o=n),Array.isArray(n)&&(o=n[0]||o,r=n[1]||r),o in p&&t.__generateModule(o),e([o,r])}))};var o=function(){if("function"==typeof n&&t){var o=t.dep;null==o||o.forEach(e)}},r=function(){var n=window.trackingSDK;if(n&&n.param)return"function"==typeof n.param?n.param()||n.param("ubt"):n.param}();if(!r)throw new Error("Missing Init Params");r&&"br"===r.locale?function(n){if(void 0===n&&(n=!1),a)return Promise.resolve(!1);a=!0;var t=n?"_testing":"";return new Promise((function(n,e){fetch("https://content.garena.com/shopee/track_config/split_by_market_config".concat(t,".json")).then((function(t){t.json().then((function(t){var e=t.br;n(e)})).catch((function(n){e(n)}))})).catch((function(n){e(n)}))}))}(r.__testCCMS__).then((function(n){d=n})).catch((function(n){console.warn("get domain config fail",n)})).finally(o):o()},(s=document.createElement("script")).async=!0,s.onload=c,s.src=i,document.body.appendChild(s)}();